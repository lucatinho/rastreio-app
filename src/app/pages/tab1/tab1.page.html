<ion-content>
  <ion-refresher slot="fixed" (ionRefresh)="handleRefresh($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>
  <ng-container *ngIf="loadStatus.pass === loadStatus.qtd;else loading">
    <ion-list>
      <ng-container *ngFor="let product of products">
        <ion-item [button]="true" detail="false" (click)="viewProduct(product)">
          <div class="item-1" slot="start">
            <div class="circle">
              <ion-img src="../../assets/icon/truck.png" alt="CaminhÃ£o" class="icone"></ion-img>
            </div>
          </div>
          <ion-label>
            <strong>{{product.name}}</strong>
            <ion-note color="medium" class="ion-text-wrap">
              {{product.rastreio?.eventos?.shift()?.status}}
            </ion-note>
            <div class="city-hour">
              <ion-note color="medium">{{product.rastreio?.eventos?.shift()?.local}}</ion-note>
              <ion-note color="medium">{{product.rastreio?.ultimo | date:'dd/MM/yyyy hh:mm'}}</ion-note>
            </div>
          </ion-label>
          <div class="metadata-end-wrapper" slot="end">
            <ion-icon color="medium" name="chevron-forward"></ion-icon>
          </div>
        </ion-item>


      </ng-container>


    </ion-list>
  </ng-container>
  <ng-template #loading>

    <ion-content [fullscreen]="true">
      <div id="container">
        <strong>Carregando...</strong>
      </div>
    </ion-content>
  </ng-template>
</ion-content>
